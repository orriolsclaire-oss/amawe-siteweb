---
import Layout from "~/layouts/Layout.astro"
import Header from "~/components/Header.astro"
import Footer from "~/components/Footer.astro"
import TestimonialCard from "~/components/TestimonialCard.astro"
import NewsletterSignup from "~/components/NewsletterSignup.astro"
import { getLangFromUrl, useTranslations } from "~/i18n/utils"

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)

const includes = [
  t("exp.retreat.includes.1"),
  t("exp.retreat.includes.2"),
  t("exp.retreat.includes.3"),
  t("exp.retreat.includes.4"),
  t("exp.retreat.includes.5"),
  t("exp.retreat.includes.6"),
  t("exp.retreat.includes.7"),
]


---

<Layout
  title={`${t("exp.title")} ‚Äî Amawe`}
  description={t("exp.subtitle")}
>
  <Header />
  <main class="pt-20">

    <!-- Hero -->
    <section class="py-20 md:py-32">
      <div class="mx-auto max-w-4xl px-6 text-center">
        <p class="section-label mb-6">{t("exp.label")}</p>
        <h1 class="text-5xl md:text-7xl">{t("exp.title")}</h1>
        <p class="mx-auto mt-6 max-w-2xl font-['Cormorant_Garamond',serif] text-xl italic text-[var(--color-text-light)] md:text-2xl">
          {t("exp.subtitle")}
        </p>
        <div class="divider mx-auto mt-8"></div>
      </div>
    </section>

    <!-- Full-width image placeholder -->
    <img
      src="/images/paysage-aveyron.webp"
      alt="Paysage panoramique du Sud Aveyron ‚Äî Parc Naturel des Grands Causses, lieu des retraites Amawe"
      width="1351"
      height="900"
      loading="eager"
      class="aspect-[16/9] w-full object-cover"
    />

    <!-- Retraite Danse & Silence -->
    <section class="py-20 md:py-28">
      <div class="mx-auto max-w-6xl px-6">
        <div class="grid items-start gap-12 md:grid-cols-2 md:gap-20">
          <div>
            <p class="section-label mb-2">{t("exp.retreat.label")}</p>
            <h2 class="text-4xl md:text-5xl">{t("exp.retreat.title")}</h2>
            <p class="mt-2 font-['Cormorant_Garamond',serif] text-lg italic text-[var(--color-text-light)]">
              {t("exp.retreat.edition")}
            </p>
            <div class="divider mt-6"></div>
            <p class="mt-8 text-lg leading-relaxed text-[var(--color-text-medium)]">
              {t("exp.retreat.intro")}
            </p>
            <div class="mt-6 space-y-1 text-sm text-[var(--color-text-medium)]">
              <p>{t("exp.retreat.dates")}</p>
              <p>{t("exp.retreat.location")}</p>
            </div>
          </div>
          <img
            src="/images/stage-groupe.webp"
            alt="Groupe lors d'une retraite Danse et Silence ‚Äî Stage Amawe en Sud Aveyron"
            width="1200"
            height="1600"
            loading="lazy"
            class="aspect-[3/4] w-full object-cover"
          />
        </div>
      </div>
    </section>

    <!-- Silence notice -->
    <section class="border-y border-[var(--color-border)] bg-[var(--color-sage-light)] py-12">
      <div class="mx-auto max-w-3xl px-6 text-center">
        <p class="font-['Cormorant_Garamond',serif] text-xl italic text-[var(--color-text-medium)]">
          {t("exp.retreat.silence")}
        </p>
      </div>
    </section>

    <!-- Programme includes -->
    <section class="py-20 md:py-28">
      <div class="mx-auto max-w-4xl px-6">
        <p class="section-label mb-4 text-center">{t("exp.retreat.includes.label")}</p>
        <div class="divider mx-auto mt-2 mb-12"></div>
        <div class="grid gap-4 md:grid-cols-2">
          {includes.map((item) => (
            <div class="flex items-center gap-4 border-b border-[var(--color-border)] pb-4">
              <span class="h-1.5 w-1.5 shrink-0 rounded-full bg-[var(--color-sage)]"></span>
              <p class="text-[var(--color-text-medium)]">{item}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Le lieu -->
    <section class="bg-[var(--color-warm)] py-20 md:py-28">
      <div class="mx-auto grid max-w-6xl items-center gap-12 px-6 md:grid-cols-2 md:gap-20">
        <img
          src="/images/salle-pratique.webp"
          alt="Salle de pratique de 120m2 en bois avec baies vitrees ‚Äî Ecolieu Amawe, Sud Aveyron"
          width="1024"
          height="768"
          loading="lazy"
          class="aspect-[4/3] w-full object-cover"
        />
        <div>
          <p class="section-label mb-4">{t("exp.retreat.venue.label")}</p>
          <h2 class="text-3xl md:text-4xl">L'ecolieu</h2>
          <div class="divider mt-6"></div>
          <p class="mt-8 text-lg leading-relaxed text-[var(--color-text-medium)]">
            {t("exp.retreat.venue.text")}
          </p>
        </div>
      </div>
    </section>

    <!-- Photos grid -->
    <section class="py-16">
      <div class="mx-auto grid max-w-6xl grid-cols-2 gap-4 px-6 md:grid-cols-4">
        <img src="/images/ecolieu-la-margue.webp" alt="Hameau en pierres de l'ecolieu La Margue ‚Äî Hebergement retraites Amawe" width="1024" height="768" loading="lazy" class="aspect-square w-full object-cover" />
        <img src="/images/nature-aveyron.webp" alt="Chemin en nature dans le Sud Aveyron ‚Äî Randonnee lors des retraites silence" width="800" height="1067" loading="lazy" class="aspect-square w-full object-cover" />
        <img src="/images/silence-meditation.webp" alt="Meditation en groupe lors d'une retraite silencieuse Amawe" width="1024" height="683" loading="lazy" class="aspect-square w-full object-cover" />
        <img src="/images/introspection.webp" alt="Moment d'introspection et de journaling lors d'une retraite Danse et Silence" width="1198" height="800" loading="lazy" class="aspect-square w-full object-cover" />
      </div>
    </section>

    <!-- Bon de commande retraite -->
    <section id="reservation" class="py-20 md:py-28">
      <div class="mx-auto max-w-4xl px-6">
        <p class="section-label mb-4 text-center">RESERVER TA PLACE</p>
        <h2 class="text-center text-4xl md:text-5xl">Retraite Danse & Silence</h2>
        <div class="divider mx-auto mt-6 mb-6"></div>
        <p class="mx-auto mb-12 max-w-xl text-center text-sm text-[var(--color-text-light)]">
          {t("exp.retreat.pricing.label")}
        </p>

        <!-- Pricing grid -->
        <div class="mb-12 grid gap-4 md:grid-cols-2">
          <div class="border border-[var(--color-border)] bg-[var(--color-surface)] p-6 text-center">
            <p class="section-label">Autonome (van/camping-car)</p>
            <p class="mt-2 font-['Cormorant_Garamond',serif] text-3xl text-[var(--color-accent)]">420 EUR</p>
          </div>
          <div class="border border-[var(--color-border)] bg-[var(--color-surface)] p-6 text-center opacity-50">
            <p class="section-label">Dortoir partage (4-5 lits)</p>
            <p class="mt-2 font-['Cormorant_Garamond',serif] text-3xl text-[var(--color-text-light)]">490 EUR</p>
            <span class="badge-urgency mt-2 inline-block">COMPLET</span>
          </div>
          <div class="border-2 border-[var(--color-accent)] bg-[var(--color-surface)] p-6 text-center">
            <p class="section-label">Gite independant partage (3 lits)</p>
            <p class="mt-2 font-['Cormorant_Garamond',serif] text-3xl text-[var(--color-accent)]">560 EUR</p>
            <span class="badge-urgency mt-2 inline-block">1 PLACE RESTANTE</span>
          </div>
          <div class="border border-[var(--color-border)] bg-[var(--color-surface)] p-6 text-center">
            <p class="section-label">Studio independant solo ou couple</p>
            <p class="mt-2 font-['Cormorant_Garamond',serif] text-3xl text-[var(--color-accent)]">620 EUR</p>
            <p class="mt-1 text-xs text-[var(--color-text-light)]">-80 EUR si couple</p>
          </div>
        </div>

        <!-- Reassurance + CTA -->
        <div class="mx-auto max-w-md text-center">
          <div class="mb-6 grid grid-cols-2 gap-4">
            <div class="reassurance-item justify-center">
              <div class="reassurance-icon">üè°</div>
              <span class="text-xs">Tout inclus</span>
            </div>
            <div class="reassurance-item justify-center">
              <div class="reassurance-icon">üçΩ</div>
              <span class="text-xs">Pension complete bio</span>
            </div>
            <div class="reassurance-item justify-center">
              <div class="reassurance-icon">üîí</div>
              <span class="text-xs">Acompte 200 EUR</span>
            </div>
            <div class="reassurance-item justify-center">
              <div class="reassurance-icon">üíö</div>
              <span class="text-xs">Groupe intime</span>
            </div>
          </div>
          <a href="#" class="btn-accent block w-full">{t("exp.retreat.booking")}</a>
          <p class="mt-3 text-xs text-[var(--color-text-light)]">{t("exp.retreat.booking.note")}</p>
        </div>
      </div>
    </section>

    <!-- Temoignages retraite -->
    <section class="bg-[var(--color-warm)] py-20 md:py-28">
      <div class="mx-auto max-w-6xl px-6">
        <p class="section-label mb-4 text-center">ELLES ONT VECU L'EXPERIENCE</p>
        <div class="divider mx-auto mt-2 mb-12"></div>
        <div class="grid gap-8 md:grid-cols-2">
          <TestimonialCard
            quote="J'ai aime la vie en communaute simple, nature et authentique. J'ai retenu de rester moi-meme. De m'aimer comme je suis."
            name="Cendrine"
            context="Retraite Danse & Silence"
          />
          <TestimonialCard
            quote="Ce stage a ete declencheur pour moi. Claire m'avait dit que je ressortirais differente. OUI, je me souviendrai de ce stage toute ma vie !"
            name="Severine"
            context="Stage Amawe"
          />
        </div>
      </div>
    </section>

    <!-- Stages -->
    <section class="py-20 md:py-28">
      <div class="mx-auto grid max-w-6xl items-center gap-12 px-6 md:grid-cols-2 md:gap-20">
        <div>
          <p class="section-label mb-4">{t("exp.stage.label")}</p>
          <h2 class="text-4xl md:text-5xl">{t("exp.stage.title")}</h2>
          <div class="divider mt-6"></div>
          <p class="mt-8 text-lg leading-relaxed text-[var(--color-text-medium)]">
            {t("exp.stage.text")}
          </p>
          <p class="mt-6 font-['Cormorant_Garamond',serif] text-lg italic text-[var(--color-accent)]">
            {t("exp.stage.coming")}
          </p>
        </div>
        <img
          src="/images/claire-stage.webp"
          alt="Claire Orriols animant un stage de danse libre et mouvement naturel"
          width="1198"
          height="800"
          loading="lazy"
          class="aspect-[4/3] w-full object-cover"
        />
      </div>
    </section>

    <!-- Newsletter -->
    <NewsletterSignup />
  </main>
  <Footer />
</Layout>
